{"version":3,"file":"js/543.12c71b4f.js","mappings":"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","sources":["webpack://crm-course/./src/components/Home/BaseBill.vue","webpack://crm-course/./src/components/Home/BaseBill.vue?c6ba","webpack://crm-course/./src/views/ProfilePage.vue","webpack://crm-course/./src/views/ProfilePage.vue?ccbe"],"sourcesContent":["<template>\r\n  <div class=\"bill\">\r\n    <div class=\"card_wrapper\" v-if=\"$store.state.auth.user\">\r\n        <h2 class=\"card-title\">Счет в валюте</h2>\r\n        <p class=\"currency_bill\"\r\n          v-for=\"curr, ind in rates\"\r\n          :key=\"ind\"\r\n        >\r\n                <span>{{ getBillValue(curr.RUB) }}</span>\r\n                <span>{{ ind }}</span>\r\n        </p>\r\n    </div>\r\n    <div class=\"handler\" v-else>\r\n      <base-loader></base-loader>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['rates'],\r\n  methods: {\r\n    getBillValue(currValue) {\r\n      const userInfo = this.$store.state.auth.userInfo\r\n      if(userInfo) { \r\n        const val = userInfo.bill / currValue\r\n        return `${val.toFixed(2)}`\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.card_wrapper{\r\n  margin-top: 10px;\r\n  width: calc(100% - 20px);\r\n    .card-title {\r\n      font-size: 22px;\r\n      letter-spacing: 1.05px;\r\n    }\r\n  }\r\n  .bill {\r\n    background-color: white;\r\n    color: $dark-color;\r\n    border-radius: 8px;\r\n    display: flex;\r\n    justify-content: center;\r\n    min-height: 400px;\r\n    width: 250px;\r\n    border: 1px solid $light-gray;\r\n    box-shadow: 1px 10px 20px 1px $light-gray;\r\n    .currency_bill {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      border-bottom: 1px solid $light-gray;\r\n      margin-top: 40px;\r\n      padding-bottom: 15px;\r\n      font-weight: bold;\r\n      font-size: 16px;\r\n      &:last-child {\r\n        border-bottom: none;\r\n      }\r\n    }\r\n  }\r\n</style>","import { render } from \"./BaseBill.vue?vue&type=template&id=910ae19e&scoped=true\"\nimport script from \"./BaseBill.vue?vue&type=script&lang=js\"\nexport * from \"./BaseBill.vue?vue&type=script&lang=js\"\n\nimport \"./BaseBill.vue?vue&type=style&index=0&id=910ae19e&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\vue\\\\crm\\\\5\\\\crm-course\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-910ae19e\"]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <base-dialog v-if=\"showDialog\" @closeDialog=\"showDialog=false\">\r\n      <div class=\"warning\">\r\n        <base-loader v-if=\"dialogLoading\"></base-loader>\r\n        <div class=\"header\" v-if=\"!dialogLoading\">\r\n          <h4>Вы уверены, что хотите {{ operationName }}?</h4>\r\n          <p>Операция <strong>необратима</strong></p>\r\n        </div>\r\n        <div class=\"body\" v-if=\"!dialogLoading\">\r\n          <base-button class=\"agree\" @click=\"handleInput\">Продолжить</base-button>\r\n          <base-button class=\"disagree\" @click=\"showDialog=false\">Отмена</base-button>\r\n        </div>\r\n      </div>\r\n    </base-dialog>\r\n    <div class=\"page-title\">\r\n      <h3>Профиль</h3>\r\n    </div>\r\n\r\n    <form @submit.prevent = 'handleForm' v-if=\"!loading\">\r\n      <base-input\r\n      v-model=\"name\"\r\n      >\r\n      Имя пользователя\r\n      </base-input>\r\n\r\n      <base-button>\r\n        <i class=\"fa-solid fa-check\"></i>\r\n      </base-button>\r\n    </form>\r\n    <div class=\"preloader\" v-else>\r\n      <base-loader></base-loader>\r\n    </div>\r\n    <div class=\"settings\">\r\n      <p>Параметры</p>\r\n      <base-button class=\"delete_btn\" @click=\"openDialog('удалить записи')\">Удалить историю записей</base-button>\r\n      <base-button class=\"delete_btn\" @click=\"openDialog('удалить категории')\">Удалить все категории</base-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BaseBill from '@/components/Home/BaseBill.vue'\r\nexport default {\r\n  components: { BaseBill },\r\n  name: \"ProfilePage\",\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      name: '',\r\n      operationName: '',\r\n      showDialog: false,\r\n      dialogLoading: false\r\n    }\r\n  },\r\n  methods: {\r\n    async handleForm(){\r\n      this.loading = true\r\n      await this.$store.dispatch('setUserName', this.name)\r\n      this.loading = false\r\n    },\r\n    openDialog(operationName) {\r\n      this.showDialog = true\r\n      this.operationName = operationName\r\n    },\r\n    async handleInput(){\r\n      this.dialogLoading = true\r\n      switch(this.operationName){\r\n        case 'удалить записи': \r\n          await this.$store.dispatch('removeRecords')\r\n          break\r\n        case 'удалить категории':\r\n          await this.$store.dispatch('removeCategories')\r\n          break\r\n        case 'удалить пользователя':\r\n          await this.$store.dispatch('removeUser')\r\n          break\r\n      }\r\n      this.dialogLoading = false\r\n      this.showDialog = false\r\n    }\r\n  },\r\n  mounted() {\r\n    this.name = this.$store.state.auth.userInfo.name\r\n    this.loading = false\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\nform {\r\n  margin-top: 20px;\r\n  background-color: white;\r\n  border-radius: 8px;\r\n  border: 1px solid $light-gray;\r\n  box-shadow: 5px 5px 10px 1px $light-gray;\r\n  padding: 20px;\r\n  max-width: 300px;\r\n\r\n}\r\n.preloader {\r\n  height: calc(100vh - 160px);\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.settings {\r\n  margin-top: 20px;\r\n  background-color: white;\r\n  border-radius: 8px;\r\n  border: 1px solid $light-gray;\r\n  box-shadow: 5px 5px 10px 1px $light-gray;\r\n  padding: 20px;\r\n  max-width: 300px;\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  gap: 20px;\r\n  .delete_btn {\r\n    background-color: $error_color;\r\n  }\r\n}\r\n.warning {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-flow: column nowrap;\r\n  max-width: 400px;\r\n  .header {\r\n    width: 100%;\r\n    h4 {\r\n      padding-bottom: 20px;\r\n    }\r\n    padding-bottom: 20px;\r\n    border-bottom: 1px solid $light-gray;\r\n  }\r\n  .body {\r\n    padding-top: 20px;\r\n    display: flex;\r\n    gap: 30px;\r\n    width: 100%;\r\n    .agree, .disagree {\r\n      padding: 0 10px;\r\n    }\r\n    .agree {\r\n      flex: 1;\r\n      background-color: $error-color;\r\n    }\r\n    .disagree {\r\n      flex: 3;\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./ProfilePage.vue?vue&type=template&id=343170fa&scoped=true\"\nimport script from \"./ProfilePage.vue?vue&type=script&lang=js\"\nexport * from \"./ProfilePage.vue?vue&type=script&lang=js\"\n\nimport \"./ProfilePage.vue?vue&type=style&index=0&id=343170fa&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\vue\\\\crm\\\\5\\\\crm-course\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-343170fa\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_ctx","state","auth","user","_hoisted_2","_hoisted_3","_Fragment","$props","curr","ind","key","$options","RUB","_hoisted_4","_createVNode","_component_base_loader","props","methods","getBillValue","currValue","userInfo","this","$store","val","bill","toFixed","__exports__","render","$data","_createBlock","_component_base_dialog","onCloseDialog","_component_base_button","onClick","_hoisted_5","_hoisted_7","onSubmit","_component_base_input","_hoisted_6","_hoisted_8","_hoisted_9","components","BaseBill","name","data","loading","operationName","showDialog","dialogLoading","async","dispatch","openDialog","mounted"],"sourceRoot":""}