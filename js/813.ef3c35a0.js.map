{"version":3,"file":"js/813.ef3c35a0.js","mappings":"uPAEOA,MAAM,c,UACTC,EAAAA,EAAAA,GAAqB,UAAjB,gBAAY,K,SAIbD,MAAM,oB,SACJA,MAAM,W,GAKFA,MAAM,sB,GACJA,MAAM,Q,SAIRA,MAAM,oC,GAINA,MAAM,Y,SAWVA,MAAM,oB,UACTC,EAAAA,EAAAA,GAA+D,UAA3D,0DAAsD,K,GACrDD,MAAM,S,SAMVA,MAAM,a,oGAxCXE,EAAAA,EAAAA,IA2CI,aA1CJD,EAAAA,EAAAA,GAGM,MAHNE,EAGM,CAFJC,GACAH,EAAAA,EAAAA,GAA6D,UAAzD,wBAAoB,QAAGI,EAAAA,qBAAsB,UAAO,KAGrBC,EAAAA,U,WAkCrCJ,EAAAA,EAAAA,IAEM,MAFNK,EAEM,EADJC,EAAAA,EAAAA,IAA2BC,QAnCe,WAA5CP,EAAAA,EAAAA,IAiCM,MAjCNQ,EAiCM,CAhCuBJ,EAAAA,KAAKK,SAAM,WAAtCT,EAAAA,EAAAA,IAwBM,MAxBNU,EAwBM,gBAvBJV,EAAAA,EAAAA,IAsBMW,EAAAA,GAAAA,MAAAA,EAAAA,EAAAA,IArBQP,EAAAA,MAAPQ,K,WADPZ,EAAAA,EAAAA,IAsBM,OAtBDF,MAAM,gBAEVe,IAAKD,EAAIE,O,EAERf,EAAAA,EAAAA,GAQM,MARNgB,EAQM,EAPJhB,EAAAA,EAAAA,GAGM,MAHNiB,EAGM,EAFJjB,EAAAA,EAAAA,GAAiC,uBAAvBa,EAAIK,SAAS,IAAC,IACxBlB,EAAAA,EAAAA,GAAuD,kBAAlDa,EAAIM,eAAe,QAAI,QAAEN,EAAIO,UAAU,UAAO,KAG/CP,EAAIM,cAAgBN,EAAIO,WAAQ,WADtCnB,EAAAA,EAAAA,IAEK,IAFLoB,KAEK,kBAEPrB,EAAAA,EAAAA,GAQM,MARNsB,EAQM,EAPJtB,EAAAA,EAAAA,GAMO,OALHD,MAAM,eACLwB,OAAK,S,MAA8BnB,EAAAA,iBAAiBS,EAAIM,cAAeN,EAAIO,UAAQ,I,mBAA8ChB,EAAAA,iBAAiBA,EAAAA,iBAAiBS,EAAIM,cAAeN,EAAIO,c,qCAQrMnB,EAAAA,EAAAA,IAMM,MANNuB,EAMM,CALJC,GACAzB,EAAAA,EAAAA,GAGM,MAHN0B,EAGM,EAFJnB,EAAAA,EAAAA,IAA8DoB,EAAAA,CAAjDC,GAAG,eAAa,C,kBAAC,IAAkB,UAAlB,yB,OAC9BrB,EAAAA,EAAAA,IAAwDoB,EAAAA,CAA3CC,GAAG,WAAS,C,kBAAC,IAAgB,UAAhB,uB,gBAWlC,OACIC,KAAM,eACNC,OACE,MAAO,CACLC,KAAM,GACNC,SAAS,EAEb,EACAC,gBACEC,KAAKH,WAAaG,KAAKC,OAAOC,SAAS,qBACvCF,KAAKF,SAAU,CACjB,EACAK,QAAS,CACPC,iBAAiBC,EAASC,GACxB,OAAQD,EAAUC,EAAS,GAC7B,EACAC,iBAAiBC,GACf,OAAOA,EAAQ,GACb,UACAA,EAAQ,GACR,UACAA,EAAQ,GACR,UACA,SACJ,GAEFC,SAAU,CACRC,sBACE,OAAOV,KAAKH,KAAKc,QAAO,CAACC,EAAKC,IACrBD,EAAMC,EAAK5B,eACjB,EACL,I,QCxEN,MAAM6B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://crm-course/./src/views/PlanningPage.vue","webpack://crm-course/./src/views/PlanningPage.vue?bfe7"],"sourcesContent":["<template>\r\n  <div>\r\n  <div class=\"page-title\">\r\n    <h3>Планирование</h3>\r\n    <h4>Общая сумма затрат: {{ allCategoriesAmount }} рублей</h4>\r\n  </div>\r\n\r\n  <div class=\"planning_wrapper\" v-if=\"!loading\">\r\n    <div class=\"wrapper\" v-if=\"info.length\">\r\n      <div class=\"category_plan\"\r\n      v-for=\"cat in info\"\r\n      :key=\"cat.catId\"\r\n      >\r\n        <div class=\"category_plan_text\">\r\n          <div class=\"text\">\r\n            <strong>{{cat.catName}}:</strong>\r\n            <p>{{cat.overallAmount}} из {{cat.catLimit}} рублей</p>\r\n          </div>\r\n          <i class=\"fa-solid fa-triangle-exclamation\"\r\n          v-if=\"cat.overallAmount > cat.catLimit\"\r\n          ></i>\r\n        </div>\r\n        <div class=\"progress\" >\r\n          <div\r\n              class=\"progress_bar\"\r\n              :style=\"{\r\n                'width': progressBarWidth(cat.overallAmount, cat.catLimit) + '%',\r\n                'background-color': progressBarColor(progressBarWidth(cat.overallAmount, cat.catLimit))\r\n                }\"\r\n          ></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"handler_planning\" v-else>\r\n      <h2>На данный момент операций по категориям не проводилось</h2>\r\n      <div class=\"links\">\r\n        <router-link to=\"/categories\">Создание категорий</router-link>\r\n        <router-link to=\"/record\">Создание записей</router-link>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"preloader\" v-else>\r\n    <base-loader></base-loader>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"PlanningPage\",\r\n    data(){\r\n      return {\r\n        info: [],\r\n        loading: true\r\n      }\r\n    },\r\n    async mounted(){\r\n      this.info = await this.$store.dispatch('fetchPlanningInfo')\r\n      this.loading = false\r\n    },\r\n    methods: {\r\n      progressBarWidth(overall, limit){\r\n        return (overall / limit) * 100\r\n      },\r\n      progressBarColor(width){\r\n        return width < 45\r\n        ? '#43AA8B'\r\n        : width < 60\r\n        ? '#FAA613'\r\n        : width < 80\r\n        ? '#ED254E'\r\n        : '#1E1E24'\r\n      }\r\n    },\r\n    computed: {\r\n      allCategoriesAmount(){\r\n        return this.info.reduce((acc, item)=>{\r\n          return acc + item.overallAmount\r\n        }, 0)\r\n      }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .planning_wrapper {\r\n    background-color: white;\r\n    margin-top: 20px;\r\n    border-radius: 8px;\r\n    border: 1px solid $light-gray;\r\n    box-shadow: 1px 10px 20px 1px $light-gray;\r\n    max-height: calc(100vh - 180px);\r\n    overflow-y: scroll;\r\n  }\r\n  .preloader {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: calc(100vh - 150px);\r\n  }\r\n  .page-title {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    h4 {\r\n      margin-top: 10px;\r\n    }\r\n  }\r\n  .category_plan {\r\n    height: 80px;\r\n    margin: 10px 0;\r\n    padding: 10px 20px;\r\n    border-bottom: 1px solid $light-gray;\r\n    display: flex;\r\n    flex-flow: column nowrap;\r\n    .category_plan_text {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      p {\r\n        margin-top: 10px;\r\n      }\r\n      i {\r\n        color: $error-color;\r\n        font-size: 25px;\r\n      }\r\n    }\r\n    .progress{ \r\n      margin-top: 20px;\r\n      height: 15px;\r\n      background-color: $light-gray;\r\n      .progress_bar {\r\n        max-width: 100%;\r\n        height: 15px;\r\n        z-index: 1;\r\n      }\r\n    }\r\n  }\r\n.handler_planning {\r\n  margin-top: 20px;\r\n  padding-left: 20px;\r\n  min-height: 400px;\r\n  .links {\r\n    margin-top: 20px;\r\n    display: flex;\r\n    gap: 20px;\r\n  }\r\n}\r\n</style>","import { render } from \"./PlanningPage.vue?vue&type=template&id=6cd10f6c&scoped=true\"\nimport script from \"./PlanningPage.vue?vue&type=script&lang=js\"\nexport * from \"./PlanningPage.vue?vue&type=script&lang=js\"\n\nimport \"./PlanningPage.vue?vue&type=style&index=0&id=6cd10f6c&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\vue\\\\crm\\\\5\\\\crm-course\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6cd10f6c\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","$options","$data","_hoisted_12","_createVNode","_component_base_loader","_hoisted_3","length","_hoisted_4","_Fragment","cat","key","catId","_hoisted_5","_hoisted_6","catName","overallAmount","catLimit","_hoisted_7","_hoisted_8","style","_hoisted_9","_hoisted_10","_hoisted_11","_component_router_link","to","name","data","info","loading","async","this","$store","dispatch","methods","progressBarWidth","overall","limit","progressBarColor","width","computed","allCategoriesAmount","reduce","acc","item","__exports__","render"],"sourceRoot":""}