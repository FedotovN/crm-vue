"use strict";(self["webpackChunkcrm_course"]=self["webpackChunkcrm_course"]||[]).push([[709],{7709:function(e,s,a){a.r(s),a.d(s,{default:function(){return V}});var r=a(3396),l=a(9242),o=a(7139);const t=e=>((0,r.dD)("data-v-e79a1d08"),e=e(),(0,r.Cn)(),e),n={class:"preloader"},d={class:"card-content"},i=t((()=>(0,r._)("span",{class:"card-title"},"Домашняя бухгалтерия",-1))),c={class:"input_field"},m={class:"input_field"},u={class:"input_field"},p={class:"input_field"},h={class:"agreement"},w=t((()=>(0,r._)("label",{for:"agree"}," С правилами согласен (никаких правил) ",-1))),_={class:"card-action"},$=t((()=>(0,r._)("i",{class:"fa-solid fa-forward"},null,-1))),v={class:"center"};function g(e,s,a,t,g,f){const k=(0,r.up)("base-loader"),C=(0,r.up)("base-input"),b=(0,r.up)("base-button"),U=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.wy)((0,r._)("div",n,[(0,r.Wm)(k)],512),[[l.F8,g.loading]]),(0,r._)("form",{class:"card auth-card",onSubmit:s[5]||(s[5]=(0,l.iM)(((...e)=>f.submitForm&&f.submitForm(...e)),["prevent"])),onKeyup:s[6]||(s[6]=(0,l.D2)(((...s)=>e.handleForm&&e.handleForm(...s)),["enter"]))},[(0,r._)("div",d,[i,(0,r._)("div",c,[(0,r.Wm)(C,{modelValue:g.email,"onUpdate:modelValue":s[0]||(s[0]=e=>g.email=e),type:"text",class:(0,o.C_)({incorrect:g.v$.email.$errors.length})},{default:(0,r.w5)((()=>[(0,r.Uk)(" Электронная почта ")])),_:1},8,["modelValue","class"]),(0,r._)("p",{class:(0,o.C_)({shown:g.v$.email.$errors.length})},(0,o.zw)(g.v$.email.$errors.length?"Введите корректный email":""),3)]),(0,r._)("div",m,[(0,r.Wm)(C,{modelValue:g.password,"onUpdate:modelValue":s[1]||(s[1]=e=>g.password=e),type:"password",class:(0,o.C_)({incorrect:g.v$.password.$errors.length})},{default:(0,r.w5)((()=>[(0,r.Uk)(" Пароль ")])),_:1},8,["modelValue","class"]),(0,r._)("p",{class:(0,o.C_)({shown:g.v$.password.$errors.length})},(0,o.zw)(g.v$.password.$errors.length?`Минимальная длина пароля - 10 символов. Текущая длина пароля - ${g.password.length}`:""),3)]),(0,r._)("div",u,[(0,r.Wm)(C,{modelValue:g.confirmPassword,"onUpdate:modelValue":s[2]||(s[2]=e=>g.confirmPassword=e),type:"password",class:(0,o.C_)({incorrect:g.v$.confirmPassword.$errors.length})},{default:(0,r.w5)((()=>[(0,r.Uk)(" Подтвердите пароль ")])),_:1},8,["modelValue","class"]),(0,r._)("p",{class:(0,o.C_)({shown:g.v$.confirmPassword.$errors.length})},(0,o.zw)(g.v$.confirmPassword.$errors.length?"Введённое значение не равно паролю":""),3)]),(0,r._)("div",p,[(0,r.Wm)(C,{modelValue:g.name,"onUpdate:modelValue":s[3]||(s[3]=e=>g.name=e),type:"text",class:(0,o.C_)({incorrect:g.v$.name.$errors.length})},{default:(0,r.w5)((()=>[(0,r.Uk)(" Имя Пользователя ")])),_:1},8,["modelValue","class"]),(0,r._)("p",{class:(0,o.C_)({shown:g.v$.name.$errors.length})},(0,o.zw)(g.v$.name.$errors.length?"Введите имя пользователя":""),3)]),(0,r._)("label",h,[w,(0,r.wy)((0,r._)("input",{id:"agree",type:"checkbox","onUpdate:modelValue":s[4]||(s[4]=e=>g.checked=e)},null,512),[[l.e8,g.checked]])])]),(0,r._)("div",_,[(0,r._)("div",null,[(0,r.Wm)(b,{type:"submit"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Зарегистрироваться "),$])),_:1})]),(0,r._)("p",v,[(0,r.Uk)(" Уже есть аккаунт? "),(0,r.Wm)(U,{to:"/login"},{default:(0,r.w5)((()=>[(0,r.Uk)("Войти!")])),_:1})])])],32)],64)}a(7658);var f=a(3053),k=a(9117),C={name:"RegisterPage",data(){return{v$:(0,f.Xw)(),email:"",password:"",confirmPassword:"",name:"",checked:"",loading:!1}},validations(){return{email:{required:k.C1,email:k.Do},password:{required:k.C1,minLength:(0,k.Ei)(6)},confirmPassword:{required:k.C1,sameAs:(0,k.sH)(this.password)},name:{required:k.C1},checked:{required:k.C1,sameAs:(0,k.sH)(!0)}}},methods:{submitForm(){this.v$.$validate(),this.v$.$errors.length||this.createAccount()},async createAccount(){try{this.loading=!0;let e={email:this.email,password:this.password,name:this.name};await this.$store.dispatch("signUp",e),this.$router.push("/login")}catch(e){console.log(e),alert("Возникла непредвиденная ошибка, наши гномы уже разбираются, что к чему")}this.loading=!1}}},b=a(89);const U=(0,b.Z)(C,[["render",g],["__scopeId","data-v-e79a1d08"]]);var V=U}}]);
//# sourceMappingURL=709.4a810aa0.js.map