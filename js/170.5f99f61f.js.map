{"version":3,"file":"js/170.5f99f61f.js","mappings":"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","sources":["webpack://crm-course/./src/views/HistoryPage.vue","webpack://crm-course/./src/components/HistoryTable.vue","webpack://crm-course/./src/components/HistoryTable.vue?d5c1","webpack://crm-course/./src/views/HistoryPage.vue?e708"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"page-title\">\r\n      <h3>История записей</h3>\r\n    </div>\r\n  <history-table></history-table>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport HistoryTable from '@/components/HistoryTable.vue';\r\nexport default {\r\n  name: 'HistoryPage',\r\n  components: {\r\n    HistoryTable\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.page-title {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n</style>","<template>\r\n<div class=\"history_wrapper\">\r\n  <div class=\"header\">\r\n    <base-pagination\r\n      v-if=\"info.length > recordsLimit\"\r\n      :itemsAmount=\"info.length\"\r\n      :limit=\"recordsLimit\"\r\n      :maxToRender=\"10\"\r\n      @pageChanged=\"changePage\"\r\n    />\r\n  </div>\r\n  <div class=\"table_wrapper\" v-if=\"!loading\">\r\n    <table v-if=\"info.length\">\r\n      <thead>\r\n        <tr>\r\n          <th>Сумма</th>\r\n          <th>Дата</th>\r\n          <th>Категория</th>\r\n          <th>Тип</th>\r\n          <th>Открыть</th>\r\n        </tr>\r\n      </thead>\r\n\r\n      <tbody>\r\n        <tr\r\n        v-for=\"item, ind in info.slice(((page-1) * recordsLimit), ((page-1) * recordsLimit) + recordsLimit)\"\r\n        :key=\"ind\"\r\n        >\r\n          <td>{{item.amount}}</td>\r\n          <td>{{filterDate(new Date(item.date))}}</td>\r\n          <td>{{item.category}}</td>\r\n          <td>\r\n            <span :class=\"item.type\">{{\r\n                item.type === 'outcome'\r\n                    ? 'Расход'\r\n                    : 'Доход'\r\n                }}\r\n            </span>\r\n          </td>\r\n          <td>\r\n            <router-link :to=\"'record/' + item.id\">\r\n              <base-button>\r\n              <i class=\"fa-solid fa-magnifying-glass\"></i>\r\n              </base-button>\r\n            </router-link>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <div class=\"handler_history\" v-else>\r\n      <h2> Записей пока нет! </h2>\r\n      <router-link to=\"/record\">Создайте новую запись здесь</router-link>\r\n    </div>\r\n</div>\r\n<div class=\"preloader_history\" v-else>\r\n    <base-loader></base-loader>\r\n</div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { dataFilter } from '@/filters/dataFilter'\r\nexport default {\r\n    name: \"HistoryTable\",\r\n    data(){\r\n        return {\r\n            loading: true,\r\n            info: [],\r\n            page: 1,\r\n            recordsLimit: 4\r\n        }\r\n    },\r\n    async mounted() {\r\n        this.info = await this.$store.dispatch('fetchHistoryInfo')\r\n        this.loading = false\r\n    },\r\n    methods: {\r\n      filterDate(value){\r\n        return dataFilter.filterDate(value)\r\n      },\r\n      changePage(number) {\r\n        this.page = number\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.history_wrapper {\r\n  max-width: 1200px;\r\n  .header {\r\n    padding-top: 10px;\r\n    display: flex;\r\n    gap: 50px;\r\n  }\r\n}\r\n.table_wrapper {\r\n    margin-top: 10px;\r\n    max-width: 1200px;\r\n    border-radius: 8px;\r\n    height: auto;\r\n    border: 1px solid $light-gray;\r\n    box-shadow: 1px 10px 20px 1px $light-gray;\r\n    border-collapse: collapse;\r\n    display: flex;\r\n    flex-flow: column nowrap;\r\n    gap: 20px;\r\n    background-color: white;\r\n    table {\r\n        text-align: center;\r\n        flex: 1;\r\n        table-layout: fixed;\r\n        border-collapse: collapse;\r\n        .row_number {\r\n            font-size: 20px;\r\n        }\r\n        td {\r\n            padding: 20px;\r\n            border-top: 1px solid $light-gray;\r\n            border-bottom: 1px solid $light-gray;\r\n            .outcome, .income {\r\n                color: white;\r\n                padding: 7px;\r\n                border-radius: 4px;\r\n            }\r\n            .outcome { background-color: $error-color; }\r\n            .income { background-color: $accent-color }\r\n        }\r\n        th {\r\n            font-size: 20px;\r\n            font-weight: bold;\r\n            padding: 15px 0;\r\n        }\r\n    }\r\n}\r\n.preloader_history {\r\n    width: 100%;\r\n    height: calc(100vh - 160px);\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n.handler_history {\r\n  padding-left: 20px;\r\n  min-height: 400px;\r\n  h2, a {\r\n    margin-top: 20px;\r\n    margin-bottom: 20px;\r\n  }\r\n}\r\n</style>","import { render } from \"./HistoryTable.vue?vue&type=template&id=a99ede92\"\nimport script from \"./HistoryTable.vue?vue&type=script&lang=js\"\nexport * from \"./HistoryTable.vue?vue&type=script&lang=js\"\n\nimport \"./HistoryTable.vue?vue&type=style&index=0&id=a99ede92&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\vue\\\\crm\\\\5\\\\crm-course\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./HistoryPage.vue?vue&type=template&id=27a6a092&scoped=true\"\nimport script from \"./HistoryPage.vue?vue&type=script&lang=js\"\nexport * from \"./HistoryPage.vue?vue&type=script&lang=js\"\n\nimport \"./HistoryPage.vue?vue&type=style&index=0&id=27a6a092&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\vue\\\\crm\\\\5\\\\crm-course\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-27a6a092\"]])\n\nexport default __exports__"],"names":["_createElementVNode","class","_createElementBlock","_hoisted_1","_createVNode","_component_history_table","_hoisted_2","$data","length","_createBlock","_component_base_pagination","itemsAmount","limit","maxToRender","onPageChanged","$options","_hoisted_9","_component_base_loader","_hoisted_3","_hoisted_5","_Fragment","slice","item","ind","key","amount","Date","date","category","type","_component_router_link","to","id","_component_base_button","_hoisted_6","_hoisted_7","_hoisted_8","name","data","loading","info","page","recordsLimit","async","this","$store","dispatch","methods","filterDate","value","dataFilter","changePage","number","__exports__","components","HistoryTable","render"],"sourceRoot":""}