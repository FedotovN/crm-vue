"use strict";(self["webpackChunkcrm_course"]=self["webpackChunkcrm_course"]||[]).push([[388],{9388:function(a,t,e){e.r(t),e.d(t,{default:function(){return W}});var i=e(3396),s=e(7139),l=e(9242);const o={class:"warning"},d={key:1,class:"header"},n=(0,i._)("h4",null,"Вы уверены, что хотите удалить запись?",-1),c=(0,i._)("p",null,[(0,i.Uk)("Операция "),(0,i._)("strong",null,"необратима")],-1),r=[n,c],u={key:2,class:"body"},g={class:"row"},h=(0,i._)("i",{class:"fa-solid fa-arrow-right"},null,-1),w={key:1,class:"details_content"},p={class:"card-content"},_=(0,i._)("span",{class:"detail_title"},"Описание:",-1),k=(0,i._)("span",{class:"detail_title"},"Сумма:",-1),y=(0,i._)("span",{class:"detail_title"},"Категория:",-1),m={class:"detail_footer"},f={class:"card-buttons"},D={key:2,class:"details_preloader"};function v(a,t,e,n,c,v){const b=(0,i.up)("base-loader"),C=(0,i.up)("base-button"),U=(0,i.up)("base-dialog"),L=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("main",null,[c.showDialog?((0,i.wg)(),(0,i.j4)(U,{key:0,onCloseDialog:t[1]||(t[1]=a=>c.showDialog=!1)},{default:(0,i.w5)((()=>[(0,i._)("div",o,[c.dialogLoading?((0,i.wg)(),(0,i.j4)(b,{key:0})):(0,i.kq)("",!0),c.dialogLoading?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",d,r)),c.dialogLoading?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",u,[(0,i.Wm)(C,{class:"agree",onClick:v.handleInput},{default:(0,i.w5)((()=>[(0,i.Uk)("Продолжить")])),_:1},8,["onClick"]),(0,i.Wm)(C,{class:"disagree",onClick:t[0]||(t[0]=a=>c.showDialog=!1)},{default:(0,i.w5)((()=>[(0,i.Uk)("Отмена")])),_:1})]))])])),_:1})):(0,i.kq)("",!0),(0,i._)("div",g,[(0,i.Wm)(L,{to:"/history"},{default:(0,i.w5)((()=>[(0,i.Uk)("История")])),_:1}),h,(0,i.wy)((0,i._)("p",null,(0,s.zw)("income"===c.type?"Доход":"Расход"),513),[[l.F8,!c.loading]]),(0,i.wy)((0,i.Wm)(b,{class:"small_loader"},null,512),[[l.F8,c.loading]])]),c.loading?((0,i.wg)(),(0,i.iD)("div",D,[(0,i.Wm)(b)])):((0,i.wg)(),(0,i.iD)("div",w,[(0,i._)("div",p,[(0,i._)("p",null,[_,(0,i.Uk)(" "+(0,s.zw)(c.description),1)]),(0,i._)("p",null,[k,(0,i.Uk)(" "+(0,s.zw)(c.amount)+" рублей",1)]),(0,i._)("p",null,[y,(0,i.Uk)(" "+(0,s.zw)(c.category),1)]),(0,i._)("small",m,(0,s.zw)(c.date),1)]),(0,i._)("div",f,[(0,i.Wm)(C,{class:"delete_btn",onClick:t[2]||(t[2]=a=>c.showDialog=!0)},{default:(0,i.w5)((()=>[(0,i.Uk)("Удалить запись")])),_:1})])]))])}var b=e(1888),C={name:"DetailRecordPage",data(){return{type:"",date:"",description:"",amount:"",category:"",loading:!0,showDialog:!1,dialogLoading:!1}},async mounted(){const a=this.$route.params.id,t=await this.$store.dispatch("fetchRecordById",a);this.type=t.type,this.date=b.m.filterDate(new Date(t.date)),this.description=t.description,this.amount=t.amount,this.category=await this.$store.dispatch("fetchCategoryById",t.category),this.loading=!1},methods:{async handleInput(){this.dialogLoading=!0,await this.$store.dispatch("deleteRecordById",this.$route.params.id),this.dialogLoading=!1,this.$router.back()}}},U=e(89);const L=(0,U.Z)(C,[["render",v]]);var W=L}}]);
//# sourceMappingURL=388.ae886fa5.js.map